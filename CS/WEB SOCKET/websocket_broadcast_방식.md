
# Web Socket 브로드 캐스트 방식

- WebSocket 방식을 이용하면 클라이언트와 서버 간의 연결이 계속 유지되므로, 이를 위한 리소스가 지속적으로 소비됩니다. 특히 클라이언트와 서버 간의 데이터 전송량이 많을수록 네트워크 대역폭과 서버 CPU 등의 리소스가 소비될 수 있습니다.


- 또한 WebSocket 연결을 유지하기 위해 불필요한 연결이 계속 유지될 수 있으므로, 이로 인해 서버 리소스가 낭비될 가능성이 있습니다. 따라서 WebSocket 을 사용하는 경우에는 적절한 리소스 관리가 필요하며, 클라이언트와 서버 간의 데이터 전송량을 최소화하고, 연결을 최적화하는 방법을 고려해야 합니다.


- 서버 간에 지속적으로 연결이 유지되기 때문에 서버의 CPU 리소스가 소비된다.


- 서버는 WebSocket 연결을 처리하고 유지하기 위해 새로운 스레드나 프로세스를 생성할 수 있습니다. 이 경우 서버 CPU 는 계속해서 이 스레드나 프로세스를 실행하고 WebSocket 연결을 관리하며, 이로 인해 추가적인 CPU 사용이 발생합니다.


- 또한 WebSocket 은 클라이언트와 서버 간에 지속적으로 데이터를 주고받기 때문에, 이를 처리하기 위해 CPU 리소스가 사용됩니다. 특히 데이터 전송량이 많을 경우에는 CPU 부하가 증가할 수 있습니다.


- 따라서 WebSocket 을 사용하는 경우에는 서버의 CPU 성능과 부하를 고려하여 적절한 리소스 관리가 필요합니다. 이를 위해서는 WebSocket 연결을 최적화하고, 클라이언트와 서버 간의 데이터 전송량을 최소화하는 방법을 고려해야 합니다.


### WebSocket 에서 데이터 전송량이 많을 때 다음과 같은 방식으로 CPU 부하가 발생할 수 있습니다.

- 데이터 처리
    - WebSocket 은 클라이언트와 서버 간에 지속적으로 데이터를 주고 받습니다.
    - 이때 서버는 클라이언트로부터 전송된 데이터를 처리해야 하며, 이에 따라 CPU 부하가 발생합니다.
    - 데이터 전송량이 많을수록 즉 많은 클라이언트로부터 많은 데이터를 받을수록 CPU 부하가 더 커집니다.


- 연결 관리
    - WebSocket 은 연결을 유지하는 것이 중요합니다.
    - 서버는 각 클라이언트와의 연결을 관리하며, 연결 상태를 주기적으로 확인하고, 연결이 끊어진 경우에는 연결을 다시 설정해야 합니다. 이 연결 관리 작업도 CPU 부하를 일으킵니다.


- 동시성 처리
    - 여러 클라이언트로부터 데이터가 동시에 전송되는 경우, 서버는 이를 동시에 처리해야 합니다.
    - 이를 위해 서버는 스레드, 프로세스, 비동기 I/O 등의 방법으로 동시서 ㅇ처리를 수행합니다. 하지만 이러한 동시성 처리 작업도 CPU 부하를 일으킵니다.

    

💡 따라서 WebSocket 을 사용하는 경우에는 클라이언트와 서버 간의 데이터 전송량을 최소화하고 적절한 성능 테스트와 모니터링을 수행하여 적절한 리소스 관리가 필요합니다.



### WebSocket 에서 데이터 전송량이 많을 때 데이터 처리 방법

- 데이터 수신
    - 서버는 클라이언트로부터 전송된 데이터를 수신합니다. 이때 데이터의 크기나 종류에 따라 수신속도가 달라질 수 있습니다.


- 데이터 파싱
    - 서버는 수신한 데이터를 파싱하여, 이를 적절한 데이터 형식으로 변환합니다. 예를 들어 JSON 형식으로 전송된 데이터를 파싱하여 서버에서 처리할 수 있는 형태로 변환하는 등의 작업이 필요합니다.


- 데이터 처리
    - 서버는 파싱된 데이터를 처리합니다. 이때 데이터의 종류나 처리 방식에 따라 CPU 부하가 발생할 수 있습니다. 예를들어 데이터베이스에 데이터를 저장하거나 데이터를 다른 서버로 전송하는 등의 작업이 수행될 수 있습니다.


- 데이터 송신
    - 서버는 클라이언트로부터 수신한 데이터를 처리한 후 다시 클라이언트에게 응답을 보내야 합니다. 이때 서버는 데이터를 클라이언트에게 전송하는 작업을 수행합니다.

이러한 작업들은 모두 CPU 리소스를 사용하며, 데이터 전송량이 많을수록 서버는 더 많은 데이터를 처리해야 하므로, CPU 부하가 증가할 수 있습니다.