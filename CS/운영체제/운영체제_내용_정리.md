## 운영체제가 하는 일

---

- 프로세스 관리 (동시 실행)
- 메모리 관리
    - 모든 프로그램은 메모리에 올라와서 실행된다.
- 하드웨어를 관리
    - 사용자의 하드웨어 직접적인 접근을 막음
    - 사용자가 하드디스크에 데이터를 저장할 때, 운영체제가 판단해서 적절한 위치에 저장합니다.
    - 임의의 특정영역에 중요한 데이터가 있을 수 있기 때문
- 파일 시스템 관리

### 운영체제의 구조

- 커널
    - 프로세스, 메모리, 저장장치를 관리함
    - 사용자는 운영체제의 커널에 직접 접근할 수 없고, 인터페이스를 통해 접근할 수 있습니다.
        - GUI (Graphic User Interface)
        - CLI (Command Line Interface)
    - 하드웨어와 커널은 인터페이스로 드라이버를 사용합니다.
        - 하드웨어를 제작한 제조사에서 운영체제와 통신할 수 있는 드라이버를 만들어 제공합니다.

### 컴퓨터 하드웨어의 구조

- 폰 노이만 구조
    - CPU 와 메모리(RAM) 을 사이에 두고 버스로 연결하빈다.
    - 버스는 데이터를 전달하는 통로를 의미합니다.
    - 프로그램을 메모리에 올리는 방식을 프로그램 내장방식이라 말함
        - 메모리에 올라간 프로그램은 명령에 따라 처리됨
        - 배선을 바꾸는 대신 소프트웨어만 바꾸기 때문에 편해짐

- 메인보드
    - 메인보드는 다른 하드웨어를 연결하는 장치
    - 장치 간에 데이터를 전송하는 것은 메인보드의 버스가 담당함
    - CPU 와 메모리를 메인보드에 꽂아줘야함.
    - 하드디스크를 메인보드의 하드디스크 단자에 연결해줌
    - 그래픽카드 연결 단자에는 그래픽 카드를 꽂아줌
    - 출력 단자의 모니터 선을 꽂으면 모니터가 작동하게 됨
    - USB 단자에 마우스와 키보드를 연결해줌
    - 사운드 단자에 스피커를 연결해줌

- CPU 구조
    - CPU (Central Processing Unit) 으로 중앙처리장치를 의미함
    - CPU 는 산술논리 연산장치, 제어장치, 레지스터로 구성되어있다.
        - CPU 에서 실제 데이터 연산을 담당하는 것이 산술논리 연산장치이다.
        - 제어장치는 모든 장치들의 동작을 지시하는 장치
        - 레지스터는 CPU 내에서 계산을 위해 임시로 보관하는 장치 (변수)

- 메모리 종류
    - RAM (Random Access Memory)
        - RAM 은 Random 으로 데이터를 읽어도 저장된 위치와 상관없이 읽는 속도가 같음
        - 전력이 끊기면 데이터를 잃어버림
        - 메인 메모리로 사용됨
    - ROM (Read Only Memory)
        - 전력이 끊겨도 데이터가 보존됨
        - 데이터는 한 번쓰면 수정이 불가능함
        - ROM 은 컴퓨터의 부팅과 관련된 바이오스를 저장하는데 주로 쓰임

### 컴퓨터 부팅과정

- 사용자가 컴퓨터의 전원을 누르면 ROM 에 저장된 바이오스가 실행됨
- 바이오스는 전원, CPU, 메모리, 키보드, 마우스, 하드디스크 등 주요 하드웨어에 이상이 없는지 체크합니다.
- 주요장치에 이상이 있다면 오류를 내면서 부팅이 이뤄지지 않음.
- 이상이 없다면 하드디스크에 잇는 마스터 부트 레코드에 저장된 부트로더를 메모리로 가져와서 실행시킴

### 인터럽트

- CPU 가 입출력 장치에 데이터를 읽거나 쓰려는 상황
    - CPU는 입출력 요청이 들어오면 입출력 관리자에게 명령을 내립니다.
    - CPU 입장에서는 입출력 명령이 언제 완료될지 알 수 없기 때문에 주기적으로 확인해야 한다.
        - Polling 방식
        - 폴링 방식의 단점은 주기적으로 CPU 가 확인해줘야 하니 성능이 좋지 않다.
- 인터럽트는 폴링 방식의 단점을 해결함
    - CPU 가 입출력관리자에게 명령을 내리고, 자신은 다른 일을 진행합니다.
    - 입출력 관리자는 입출력이 완료됐을 때 CPU 에게 신호를 주고, CPU 는 그 신호를 받아 인터럽트 서비스 루틴(ISR) 을 실행시켜 작업을 완료합니다.
    - 인터럽트 서비스 루팅는 특정 인터럽트가 들어오면 그 인터럽트를 처리하는 함수입니다.
    - 인터럽트는 비동기 방식이기 때문에 성능상 이점이 있다.
    - 하드웨어 방식과 소프트웨어 방식이 있다.
        - 하드웨어 방식은 입출력 등과 같은 인터럽트가 있음
        - 소프트웨어 방식은 사용자 프로그램에서 발생한 인터럽트가 있다.
            - 유효하지 않은 메모리 접근
            - 0으로 나누는 명령어 등이 있다.


