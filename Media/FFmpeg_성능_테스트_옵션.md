## 성능 측정 Tool

---

### FFmpeg 의 Benchmark 옵션

- ffmpeg 의 속도를 측정하기 위해 사용되는 옵션
    - utime : 사용자 모드에서 소비한 시간
        - utime (user time) : 사용자 모드에서 소비한 시간, 이 값은 프로세스가 커널에서 사용자 모드에서 실행 중일때 CPU 시간을 소비하는데 사용된 시간을 측정합니다.
        * utime 은 모든 스레드에서 인코딩을 처리한 시간의 합계이므로 실제 걸린 시간보다 높게 나올 수 있습니다.
          ***ffmpeg 이 인코딩 작업을 수행하면서 실제로 처리에 사용한 CPU 시간을 측정***
        - stime (system time) : 시스템 모드에서 소비한 시간, 이 값은 커널에서 실행중인 프로세스에 의해 소비된 시스템 모드에서의 CPU 시간을 측정합니다. FFmpeg 이 파일 I/O, 메모리 할당, 프로세스 관리 등의 작업을 수행하면서 사용한 CPU 시간을 측정합니다.
        - rtime (real time) : 실제로 경과된 시간, 이 값은 프로그램이 시작한 후 종료 될때까지의 실제 시간을 측정합니다. rtime 은 utime 과 stime 을 합한 값과 거의 같을 수 있지만, 다른 프로세스가 CPU를 사용하거나 I/O 작업이 발생하는 등의 이유로 차이가 발생할 수 있습니다.
    - maxrss : 최대 런타임 메모리 크기


# no-multi-pass-opt-rps

---


- `--multi-pass-opt-rps`  비디오 인코딩 소프트웨어에서 사용되는 것으로 압축률(Compression Ratio)과 관련된 옵션입니다.
- 이 옵션은 다중 패스(multi-pass) 인코딩을 수행할 때 허용되는 초당 프레임 수(Rate Per Second)를 설정하는 데 사용됨
- 다중 패스 인코딩은 비디오를 인코딩하기 위해 여러 번의 패스(프레임 처리)를 수행하는 기술
- `--multi-pass-opt-rps` 옵션을 사용하면 사용자가 인코딩 과정에서 프레임당 비트율(Bit Rate)을 제어할 수 있으므로 높은 품질의 비디오를 더 효율적으로 인코딩할 수 있음
- 이 옵션은 소프트웨어에서 사용되는 것이며, 어떤 비디오 인코딩 소프트웨어에서도 일관성 없이 적용될 수 있으므로 사용하는 소프트웨어의 문서를 참고하는 것이 좋음


# RPS 와 SPS 의 개념

---

- RPS와 SPS는 H.264/AVC (Advanced Video Coding) 비디오 인코딩 표준에서 사용되는 두 가지 프로파일(Profile)입니다.
- SPS(Sequence Parameter Set)는 비디오 스트림의 기본 정보를 포함하는 매개 변수 세트입니다. SPS에는 스트림의 해상도, 프레임 속도, 프로필 및 레벨 등의 정보가 포함되어 있습니다.
- RPS(Reference Picture Set)는 인코딩된 비디오 프레임의 참조 프레임(Reference Frame)을 저장하는 데 사용되는 매개 변수입니다. 이것은 비디오 인코딩에서 중요한 역할을 합니다. RPS는 I, P 및 B 프레임의 참조 프레임을 식별하여 디코딩할 때 사용됩니다.
- 다중 스트림 인코딩(multi-stream encoding)에서는 하나의 SPS를 사용하여 여러 비디오 스트림을 인코딩할 수 있습니다. 그러나 RPS는 각 스트림에 대해 개별적으로 지정되어야 합니다.
- 이러한 매개 변수는 비디오 인코딩에서 중요한 역할을 하며, 다양한 인코딩 기술에서 사용됩니다. 이들 매개 변수는 비디오 인코딩 프로세스의 효율성과 품질을 결정하는 데 중요한 역할을 합니다.