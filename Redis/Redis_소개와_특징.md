# Redis 소개와 특징

---


### Redis 의 정의

- Remote Dictionary Server
- Storage : 데이터 저장소 (데이터 관점)
- Database : 전통적인 DBMS 의 역할을 수행 (영속성 관점)
    - 영속성 : 데이터를 저장하고, 유실되지 않게 하는 것
- Middleware : 어플리케이션이 이용할 수 있는 유용한 기능을 제공하는 소프트웨어
    - Sorted Set 을 통해 랭킹 순위와 같은 데이터를 빠르게 조회할 수 있음

<br />

### Redis 로 할 수 있는 것?

- 아주 빠른 데이터 저장소로 활용
- 분산된 서버들간의 커뮤니케이션 (동기화, 작업 분할 등)
- 내장된 자료구조를 활용한 기능 구현
- Redis 를 한 줄로 표현한다면 In Memory DB 이다.

<br />

### DB, Database, DBMS ?

- 데이터를 읽고 쓸 수 있는 기능을 제공하는 소프트웨어
- 어플리케이션이 데이터 저장을 간단히 처리할 수 있도록 해줌
- 관심사의 분리, 계층화

<br />

### In-memory DB?

- 데이터를 디스크에 저장하지 않음
- 휘발성인 RAM 에 저장
- 빠른 속도

<br />

### Memory 와 Disk 의 속도 차이

|  | Read | Write | 비교 |
| --- | --- | --- | --- |
| HDD | 130 MB/s | 120 MB/s |  |
| SDD | 500 MB/s | 450 MB/s | HDD 보다 3~4배 빠름 |
| RAM | 20,000 MB/s | 20,000 MB/s | SSD 보다 40배 빠름 |

<br />

### 빠른 속도와 휘발성의 절충

- 용도에 맞게 DB와 Redis 를 사용
- 혼합해서 사용 (Cache)
- Redis 의 영속성 확보 (백업 등)

<br />

### 데이터 저장소의 구조

- 프로그램 언어에서의 데이터 구조 (Array, List, Map …)
  - Array : 특정 인덱스를 가지고, 바로 개체에 접근 가능
  - List : 앞에서부터 차례대로 찾아야함, 대신 삽입이 빠름
- DB의 데이터 모델 관점에서의 구조
  - 네트워크 모델, 계층형 모델(Tree), 관계형 모델, …
  - 성능 특성이 달라진다.

<br />

### Key-value store 란

- 특정 값을 key 로 해서 그와 연관된 데이터를 value 로 저장 (Map과 같음)
- 가장 단순한 데이터 저장 방식
- 단순한 만큼 빠르고 성능이 좋음


- Key-Value 구조의 장점
  - 단순성에서 오는 쉬운 구현과 사용성
  - Hash 를 이용해 값을 바로 읽으므로 속도가 빠름 (추가 연산이 필요 없음)
    - Hash 알고리즘을 사용하면, 어떤 값을 Hash 값으로 변환할 때 빠른 속도로 변환함
  - 분산 환경에서의 수평적 확장성
- Key-Value 구조의 단점
  - Key를 통해서만 값을 읽을 수 있음
  - 범위 검색 등의 복잡한 질의가 불가능
- Key-Value 스토어의 활용
  - 언어의 자료구조 (Java 의 HashMap 등)
  - NoSQL DB (Redis , Riak, AWS DynamoDB)
  - 단순한 구조의 데이터로 높은 성능과 확장성이 필요할 때 사용

<br />

### Redis 히스토리

- 2009년 살바토레 산필리포 (Salvatore Sanfilippo) 가 개발
- 오픈소스화 이후 캐시 기술로서 대중적인 인기를 얻음
- BSD 라이센스 (개작/배포 시 저작권자 이름과 BSD 라이센스 표시)
- 2015년 부터 Redis Labs 가 지원 (엔터프라이즈 모듈은 별도 라이센스로 판매)
- 다양한 언어에서 Redis 를 지원하고 많은 라이브러리가 존재

<br />

### Redis 활용

- 서버를 개발하며 Redis 를 사용하지 않는 기업이 없을 정도
  - Session Store
  - Cache
  - Limit Rater
    - 특정 API 의 분당 Request 를 제한하는 기능
  - Job Queue
    - 여러 서버들 간의 Task 를 저장하고, 소비하는 큐의 형태
- 별도로 구현해야 했던 공통적인 기능들을 Redis 를 사용하면 쉽게 구현 가능

